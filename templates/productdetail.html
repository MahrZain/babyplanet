{% include 'header.html' %}
{% load static %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700">
<style>
  .review-container {
    
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    max-width: 500px;
    width: 100%;
  }

  .stars {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
  }

  .star {
    font-size: 30px;
    color: #ccc;
    cursor: pointer;
    transition: color 0.3s;
  }

  .star:hover,
  .star.selected {
    color: #F85606;
  }

  .review-input {
    display: none;
    margin-bottom: 20px;
  }

  .review-input textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    resize: none;
  }

  .submit-btn {
    background-color: #F85606;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .submit-btn:disabled {
    background-color: #ff9b95;
  }

  * {
    box-sizing: border-box;
  }

  .img-magnifier-container {
    position: relative;
  }

  .img-magnifier-glass {
    position: absolute;
    border: 3px solid #000;
    border-radius: 50%;
    cursor: none;
    /*Set the size of the magnifier glass:*/
    width: 150px;
    height: 150px;
  }
</style>

<main>
  <div class="container-fluid">
    <div class="row mb-5 p-0">
      <div class="col-md-6 col-lg-6 col-xl-4 mt-5">
        <div class="container">
          <div class="mySlides">
            <div class="numbertext" style="color:black;">1 / 6</div>
            <div class="img-magnifier-container">
              <img id="myimage" src="/media/{{products.image}}" style="width:100%">
            </div>
          </div>



          <a class="prev" style="color: black;" onclick="plusSlides(-1)">❮</a>
          <a class="next" style="color: black;" onclick="plusSlides(1)">❯</a>

          <div class="caption-container">
            <p id="caption"></p>
          </div>

          <div class="row">
            <div class="column">
              <img class="demo cursor" src="/media/{{products.image}}" style="width:100%" onclick="currentSlide(1)">
            </div>


          </div>
        </div>
      </div>
      <div class="col-md-6 u-product-middle col-lg-6 col-xl-4 mt-5">
        <div class="card container" style="background: transparent;">
          <div class="card-body">
            <h5 class="card-title" style="font-size: 18px; font-weight: 600;">{{products.title}}</h5>
            <div class="card-subtitle mb-2 text-body-secondary mt-2 d-flex align-items-center"><span
                style="text-decoration: line-through; color: #696969;">Rs.{{products.Orignal_price}}</span>
              <spa style="color: #ff6f00; font-weight: 600;">
                <h5 class="d-inline ms-2">Rs.{{products.price_that_you_sell}}</h5>
              </spa><span class="ms-2"
                style="background-color: #ff6f00; border-radius: 2px; font-weight: 600; color: white; font-size: 13px; padding: 2px 4px;">
                SAVE 34%</span>
            </div>
            <p class="card-text" style="font-size: 14px; color: #696969;">{{products.sub_title}}</p>
            <div class="card-text d-flex align-items-baseline " style="font-size: 14px; color: #696969;">
              <h6 class="me-2" style="font-size: 15px;">SELECT SIZE :
              </h6>
              <select style=" border-radius: 4px; font-weight: 600;">
                <option value="0">Choose</option>
                <option value="1">Small</option>
                <option value="2">Medium</option>
                <option value="3">Large</option>
                <option value="3">X-large</option>
                <option value="3">Full Size</option>
              </select>
            </div>
            <div class="card-text d-flex mt-3 align-items-baseline " style="font-size: 14px; color: #696969;">
              <h6 class="me-2" style="font-size: 15px;">SELECT COLOUR :
              </h6>
              <select style=" border-radius: 4px; font-weight: 600;">
                <option value="0">Choose</option>
                <option value="1">Red</option>
                <option value="2">Green</option>
                <option value="3">White</option>
                <option value="3">Black</option>
                <option value="3">Brown</option>
              </select>
            </div>
            <div>
              <h6 class="me-2 mt-3" style="font-size: 15px;">AVAILABILITY : <b>"{{products.availability}}"</b>
              </h6>
            </div>
            <div class="card-text u-middle-adjust d-flex align-items-center mt-4" style="font-size: 14px; color: #696969;">
              
                <form class="mt-3" action="" style="display: flex;">
                  <button class="u-detail-btn" id="minus">−</button>
                  <input type="number" value="1" min="1" max="50" style="width: 50px; padding: 3px;" id="input" />
                  <button class="u-detail-btn" id="plus">+</button>
                  <a class="u-cart-adjust-2 ms-2" style="order: -1;" href=""><i class="bi bi-heart me-1"> </i></a>
                </form>

              <div class="u-add-to-cart d-flex align-items-center mt-3">
                <a style="text-align: center;" class="u-cart-adjust ms-2" href=""><i class="bi bi-cart me-1"> </i> ADD TO CART</a>
              </div><!-- /.u-add-to-cart -->
            </div>

          </div>
        </div>
      </div>
      <div class="u_last col-md-6 col-lg-3 col-xl-4 mt-5">
        <div class="u_last_inner container">
          <h5 class="mb-3 u-par-underline">Shipping & Delivery</h3>
            <div class="d-flex mt-4" style="align-items:  end;">
              <div><i class="bi bi-truck" style="font-size: 38px; color: #696969;"></i></div>
              <div class="ms-3">
                <div>
                  <h6 style="color: #696969; font-size: 14px; font-weight: 600;">FREE SHIPPING</h6>
                </div>
                <div style="color: #696969; font-size: 14px;">Free shipping over Rs. 1500</div>
              </div>
            </div>
            <div class="d-flex mt-4" style="align-items:  end;">
              <div><i class="bi bi-headset" style="font-size: 38px; color: #696969;"></i></div>
              <div class="ms-3">
                <div>
                  <h6 style="color: #696969; font-size: 14px; font-weight: 600;">
                    SUPPORT 24/7</h6>
                </div>
                <div style="color: #696969; font-size: 14px;">We support 24 hours a day</div>
              </div>
            </div>
            <div class="d-flex mt-4" style="align-items:  end;">
              <div><i class="bi bi-arrow-left-right" style="font-size: 38px; color: #696969;"></i></div>
              <div class="ms-3">
                <div>
                  <h6 style="color: #696969; font-size: 14px; font-weight: 600;">EASY RETURN</h6>
                </div>
                <div style="color: #696969; font-size: 14px;">Simple and easy return and refund policy.</div>
              </div>
            </div>
        </div><!-- /.u_last_inner -->
      </div>
    </div><!-- /.row -->
  </div><!-- /.container -->
  <div class="u-tab-wrapper my-5">
    <div class="container">
      <ul class="nav nav-pills mb-3" style="justify-content: space-evenly;" id="pills-tab" role="tablist">
        <li class="nav-item tab-active" role="presentation">
          <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
            type="button" role="tab" aria-controls="pills-home" aria-selected="true">Description</button>
        </li>
        <li class="nav-item tab-active" role="presentation">
          <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
            type="button" role="tab" aria-controls="pills-profile" aria-selected="false">More Information</button>
        </li>
        <li class="nav-item tab-active" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact"
            type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Reviews</button>
        </li>
      </ul>
      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab"
          tabindex="0">{{products.description}}</div>
        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
          {{products.More_information}}</div>
        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab" tabindex="0">
          <div class="container d-flex justify-content-center">
            <div class="review-container">
              <h1>Rate Our Product</h1>
              <div class="stars">
                <i class="star fa fa-star" data-value="1"></i>
                <i class="star fa fa-star" data-value="2"></i>
                <i class="star fa fa-star" data-value="3"></i>
                <i class="star fa fa-star" data-value="4"></i>
                <i class="star fa fa-star" data-value="5"></i>
              </div>
              <div class="review-input">
                <textarea placeholder="Write your review here..." required></textarea>
              </div>
              <button class="submit-btn" disabled>Submit Review</button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div><!-- /.u-tab-wrapper -->
</main>
<script>
  function magnify(imgID, zoom) {
    var img, glass, w, h, bw;
    img = document.getElementById(imgID);

    /* Create magnifier glass: */
    glass = document.createElement("DIV");
    glass.setAttribute("class", "img-magnifier-glass");

    /* Insert magnifier glass: */
    img.parentElement.insertBefore(glass, img);

    /* Set background properties for the magnifier glass: */
    glass.style.backgroundImage = "url('" + img.src + "')";
    glass.style.backgroundRepeat = "no-repeat";
    glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
    bw = 3;
    w = glass.offsetWidth / 2;
    h = glass.offsetHeight / 2;

    /* Execute a function when someone moves the magnifier glass over the image: */
    glass.addEventListener("mousemove", moveMagnifier);
    img.addEventListener("mousemove", moveMagnifier);

    /*and also for touch screens:*/
    glass.addEventListener("touchmove", moveMagnifier);
    img.addEventListener("touchmove", moveMagnifier);
    function moveMagnifier(e) {
      var pos, x, y;
      /* Prevent any other actions that may occur when moving over the image */
      e.preventDefault();
      /* Get the cursor's x and y positions: */
      pos = getCursorPos(e);
      x = pos.x;
      y = pos.y;
      /* Prevent the magnifier glass from being positioned outside the image: */
      if (x > img.width - (w / zoom)) { x = img.width - (w / zoom); }
      if (x < w / zoom) { x = w / zoom; }
      if (y > img.height - (h / zoom)) { y = img.height - (h / zoom); }
      if (y < h / zoom) { y = h / zoom; }
      /* Set the position of the magnifier glass: */
      glass.style.left = (x - w) + "px";
      glass.style.top = (y - h) + "px";
      /* Display what the magnifier glass "sees": */
      glass.style.backgroundPosition = "-" + ((x * zoom) - w + bw) + "px -" + ((y * zoom) - h + bw) + "px";
    }

    function getCursorPos(e) {
      var a, x = 0, y = 0;
      e = e || window.event;
      /* Get the x and y positions of the image: */
      a = img.getBoundingClientRect();
      /* Calculate the cursor's x and y coordinates, relative to the image: */
      x = e.pageX - a.left;
      y = e.pageY - a.top;
      /* Consider any page scrolling: */
      x = x - window.pageXOffset;
      y = y - window.pageYOffset;
      return { x: x, y: y };
    }
  }
</script>
<script>
  /* Execute the magnify function: */
  magnify("myimage", 3);
  /* Specify the id of the image, and the strength of the magnifier glass: */
  </script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const stars = document.querySelectorAll('.star');
    const reviewInput = document.querySelector('.review-input');
    const submitBtn = document.querySelector('.submit-btn');
    let selectedRating = 0;

    stars.forEach(star => {
      star.addEventListener('mouseover', function () {
        highlightStars(this.dataset.value);
      });

      star.addEventListener('mouseout', function () {
        highlightStars(selectedRating);
      });

      star.addEventListener('click', function () {
        selectedRating = this.dataset.value;
        highlightStars(selectedRating);
        reviewInput.style.display = 'block';
        submitBtn.disabled = false;
      });
    });

    function highlightStars(rating) {
      stars.forEach(star => {
        star.classList.toggle('selected', star.dataset.value <= rating);
      });
    }
  });
</script>

{% include 'footer.html' %}